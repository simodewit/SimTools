<UserControl x:Class="SimTools.Controls.InspectorPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:SimTools.Controls"
             Background="{DynamicResource Brush.Surface}"
             MinWidth="260" MaxWidth="320">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibility" />
    </UserControl.Resources>

    <Border Background="{DynamicResource Brush.Surface}"
            BorderBrush="{DynamicResource Brush.Border}"
            BorderThickness="1"
            CornerRadius="8"
            Padding="10"
            SnapsToDevicePixels="True">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel>

                <!-- Header -->
                <TextBlock Text="{Binding Title}"
                           FontWeight="Bold"
                           Margin="0,0,0,8"
                           Foreground="{DynamicResource Brush.Text}"/>

                <!-- Background -->
                <StackPanel Margin="0,6,0,6"
                            Visibility="{Binding HasBackground, Converter={StaticResource BoolToVisibility}}">
                    <TextBlock Text="Background" FontWeight="SemiBold"
                               Foreground="{DynamicResource Brush.TextDim}"/>
                    <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                        <local:ColorWheel Width="110" Height="110"
                                          Hue="{Binding BackgroundHue, Mode=TwoWay}"
                                          Saturation="{Binding BackgroundSaturation, Mode=TwoWay}"
                                          SelectedColor="{Binding BackgroundColor, Mode=OneWay}"/>
                        <StackPanel Margin="10,0,0,0" VerticalAlignment="Center">
                            <TextBlock Text="Brightness" Foreground="{DynamicResource Brush.TextDim}"/>
                            <Slider Minimum="0" Maximum="1"
                                    Value="{Binding BackgroundValue, Mode=TwoWay}"
                                    Width="120"/>
                            <TextBlock Text="Alpha" Margin="0,10,0,0"
                                       Foreground="{DynamicResource Brush.TextDim}"/>
                            <Slider Minimum="0" Maximum="1"
                                    Value="{Binding BackgroundAlpha, Mode=TwoWay}"
                                    Width="120"/>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>

                <!-- Foreground -->
                <StackPanel Margin="0,6,0,6"
                            Visibility="{Binding HasForeground, Converter={StaticResource BoolToVisibility}}">
                    <TextBlock Text="Foreground" FontWeight="SemiBold"
                               Foreground="{DynamicResource Brush.TextDim}"/>
                    <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                        <local:ColorWheel Width="110" Height="110"
                                          Hue="{Binding ForegroundHue, Mode=TwoWay}"
                                          Saturation="{Binding ForegroundSaturation, Mode=TwoWay}"
                                          SelectedColor="{Binding ForegroundColor, Mode=OneWay}"/>
                        <StackPanel Margin="10,0,0,0" VerticalAlignment="Center">
                            <TextBlock Text="Brightness" Foreground="{DynamicResource Brush.TextDim}"/>
                            <Slider Minimum="0" Maximum="1"
                                    Value="{Binding ForegroundValue, Mode=TwoWay}"
                                    Width="120"/>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>

                <!-- Opacity -->
                <StackPanel Margin="0,6,0,6"
                            Visibility="{Binding HasOpacity, Converter={StaticResource BoolToVisibility}}">
                    <TextBlock Text="Opacity" FontWeight="SemiBold"
                               Foreground="{DynamicResource Brush.TextDim}"/>
                    <Slider Minimum="0" Maximum="1" Value="{Binding Opacity, Mode=TwoWay}"/>
                </StackPanel>

                <!-- Font Size -->
                <StackPanel Margin="0,6,0,6"
                            Visibility="{Binding HasFontSize, Converter={StaticResource BoolToVisibility}}">
                    <TextBlock Text="Font Size" FontWeight="SemiBold"
                               Foreground="{DynamicResource Brush.TextDim}"/>
                    <Slider Minimum="8" Maximum="48" Value="{Binding FontSize, Mode=TwoWay}"/>
                </StackPanel>

                <!-- Font Family (ONLY from simtools/fonts) -->
                <StackPanel Margin="0,6,0,6"
                            Visibility="{Binding HasFontFamily, Converter={StaticResource BoolToVisibility}}">
                    <TextBlock Text="Font Family" FontWeight="SemiBold"
                               Foreground="{DynamicResource Brush.TextDim}"/>
                    <ComboBox ItemsSource="{Binding FontOptions}"
                              SelectedItem="{Binding SelectedFontOption, Mode=TwoWay}"
                              Width="260" MaxDropDownHeight="360"
                              ToolTip="Lists only fonts found in simtools/fonts next to the app. Drop .ttf/.otf files there to add them.">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel>
                                    <TextBlock Text="{Binding Category}"
                                               FontSize="11" Margin="0,4,0,0"
                                               Foreground="{DynamicResource Brush.TextDim}"
                                               Visibility="{Binding ShowCategoryHeader}"/>
                                    <TextBlock Text="{Binding Name}"
                                               FontFamily="{Binding Family}"
                                               Margin="12,0,0,0"/>
                                </StackPanel>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Border>
</UserControl>
